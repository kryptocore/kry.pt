<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>𝕋𝕙𝕖 𝕂𝕣𝕪𝕡𝕥</title>
    <link rel="preload" href="CRT/crt.css" as="style">  <!-- I am not entirely convinced preloading CSS actually does anything, but this should load before anything else. -->
      <link rel="stylesheet" href="CRT/crt.css">        <!-- crt.css is a CRT "screen door" effect. Requires an element called <crt> to function. -->
      <link rel="stylesheet" href="index.css">       
  </head>
  <crt></crt>
  <body class="tint">
    <div class="viewport flex center">
    <YHWH class="flex center">
      <div class="outer flex center">
        <p class="seven">◉◎◉</p>
        <p class="two">  ◎◉◎</p>
      </div>
      <div class="inner trigrams flex center">
        <p class="☲">☲</p>
        <p class="☱">☱</p>
        <p class="☵">☵</p>
        <p class="☳">☳</p>
      </div>
      <div class="square trigrams flex center">
        <p class="☷">☷</p>
        <p class="☰">☰</p>
        <p class="☶">☶</p>
        <p class="☴">☴</p>
      </div>
    </YHWH>
    <div class="zodiac flex center">
        <p>♈︎</p><p>♉︎</p><p>♊︎</p><p>♋︎</p><p>♌︎</p><p>♍︎</p><p>♎︎</p><p>♏︎</p><p>♐︎</p><p>♑︎</p><p>♒︎</p><p>♓︎</p>
      </div>
    <div class="cube UVGA">
      <div class="top">
        <p class="NE">ה</p>
        <p class="NW">ו</p>
        <p class="SE">ה</p>
        <p class="SW">י</p>
      </div>
      <div class="right"></div>
      <div class="bottom">
        <p class="NE">י</p>
        <p class="NW">נָ</p>
        <p class="SE">דֹ</p>
        <p class="SW">אֲ</p>
      </div>
      <div class="left"></div>
      <div class="front"></div>
      <div class="back"></div>
    </div>

      <div id="content" class="flex center UVGA">

        <div id="custom-cursor"><div class="line line-horizontal"></div><div class="line line-vertical"></div></div>
        
        <div class="navNudge"> <!-- This is fine for now but change to grid later. -->
          <div class="navButton flex center"><p>CV<br>Place-holder</p></div>
          <div class="navButton flex center"><p>?<br>Place-holder</p></div>
          <div class="navButton flex center"><p>BBS<br>Place-holder</p></div>
        </div>
        <div class="navNudge">
          <a href="#poppy"><div class="navButton flex center"><p>Poppy's<br>Kult</div></a>
          <div class="navButton flex center hidden"></div>
          <a href="#about"><div class="navButton flex center"><p>About<br>Me (Test)</div></a>
        </div>
        <div>
          <div class="navButton flex center"><p>Art<br>Place-holder</p></div>
          <div class="navButton flex center"><p>Writ<br>Place-holder</p></div> <!-- Writ & Prose -->
          <div class="navButton flex center"><p>Hobbies<br>Place-holder</p></div>
        </div>

        <div id="poppy" class="modal flex column center">
          <h1 class="FSBI hl">◈ Poppy's Cult ◈</h1>
          <p class="hl">◈ Welcome, seeker of the unknown. The enigmatic Cult of Poppy does not openly seek new members at this time. However, if you possess the determination to reach out to a known member, an opportunity to inquire about membership may present itself. Proceed with caution, for the path to enlightenment may be fraught with peril and secrecy.</p>
          <a href="#"><p>◈ return ◈</p></a>
        </div>

        <div id="about" class="modal flex column center">
          <div>
            <img src="PNG/IMG_PC01.png" alt="Image of Kryptonaut">
          
            <p>My handle around the wired is Kryptonaut (et al), but you may call me Knaut, Krypto, or Kato.</p>
            <p>↓ ↓ ↓ ↓ ↓</p>
            <p>_descriptors ::</p>
            <p>
              #WINDOsysadmin<br>
              #LINUXsysadmin<br>
              #CSISundergrad<br>
              #FICTIONwriter<br>
              #NAVYveteranST<br>
              #OLDNETfanatic<br>
              #DEIST/thelema<br>
            </p>
          </div>
          <a href="#"><p>◈ return ◈</p></a>
        </div>

        <!--<p style="padding: 2em;"><span class="hl">"Goodness overpowers passion and ignorance, passion defeats goodness and ignorance, and ignorance overcomes goodness and passion. Thus the modes continually fight for supremacy."</span><br><br><span class="hl">श्रीमद्भगवद्गीता XIV:X</span></p>-->
      </div>
    </div>
  </body>

  <!--  
    A relic from a bygone idea. A cool fisheye filter that I'm hella proud of. 
    Unfortunately, if your computer was made pre-pandemic, your poor browser can't render it without your fans sounding like a jet engine. 
    Somehow, this is Tigo's fault.
  -->
  <!--<svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute">
    <defs>
    <filter id="fisheye">
    <feImage xlink:href="PNG/fisheye.png" result="lightMap" preserveAspectRatio="none"/>
    <feDisplacementMap in2="lightMap" in="SourceGraphic" xChannelSelector="R" yChannelSelector="G" scale="130"/>
    </filter>
    </defs>
  </svg>-->

  <!-- Thank you based god Hosma, may your lineage be hardy and long-lived. -->
  <script>
    /**
     * @param {HTMLSpanElement} element
     * @param {Boolean} isHover
     */
    function highlightLetter(element, isHover) {
      // Guard clause :D
      if (element.tagName !== 'SPAN')
        return

      // Decide on the appropriate classList method name
      const classMethod = isHover ? 'add' : 'remove'

      // Add/remove the highlight class
      element.classList[classMethod]('hovering-letter')

      const neighborLetters = [
        element.previousElementSibling,
        element.nextElementSibling,
      ]

      // Toggle the hover class for either neighbor (if any)
      for (const letter of neighborLetters)
        (letter) && letter.classList[classMethod]('hovering-letter-neighbor')
    }


    const hlElements = document.querySelectorAll(".hl")

    for (const element of hlElements) {
      // Spanishize every single character contained by each .hl
      element.innerHTML = element.innerHTML
        .replace(/(.)/g, '<span>$1</span>')

      // Add event listeners to handle the hover effect
      element.addEventListener(
        'mouseover',
        (event)=> highlightLetter(event.target, true),
        {passive: true})

      element.addEventListener(
        'mouseout',
        (event)=> highlightLetter(event.target, false),
        {passive: true})
    }
  </script>
  
  <!--<script>
    const customCursor = document.getElementById("custom-cursor");
    const confine = document.getElementById("content");
    const horizontalLine = customCursor.querySelector(".line-horizontal");
    const verticalLine = customCursor.querySelector(".line-vertical");
    let latestMouseMove;
    function updateCustomCursor() {
      const areaRect = confine.getBoundingClientRect();
      const viewportOffsetLeft = window.pageXOffset;
      const viewportOffsetTop = window.pageYOffset;
      const confinedX = latestMouseMove.clientX - areaRect.left + viewportOffsetLeft;
      const confinedY = latestMouseMove.clientY - areaRect.top + viewportOffsetTop;
      horizontalLine.style.top = confinedY + "px";
      verticalLine.style.left = confinedX + "px";
    }
    confine.addEventListener("mousemove", (e) => {
      latestMouseMove = e;
      requestAnimationFrame(updateCustomCursor);
    }
                            );
    confine.addEventListener("mouseenter", () => {
      document.body.style.cursor = "none";
      customCursor.style.display = "block";
    }
                            );
    confine.addEventListener("mouseleave", () => {
      document.body.style.cursor = "crosshair";
      customCursor.style.display = "none";
    }
                            );
  </script>-->

  <script>
    const customCursor = document.getElementById("custom-cursor");
    const confine = document.getElementById("content");
    const horizontalLine = customCursor.querySelector(".line-horizontal");
    const verticalLine = customCursor.querySelector(".line-vertical");
    let latestMouseMove;
  
    function updateCustomCursor() {
      const areaRect = confine.getBoundingClientRect();
      const confinedX = latestMouseMove.clientX - areaRect.left;
      const confinedY = latestMouseMove.clientY - areaRect.top;
  
      horizontalLine.style.transform = `translateY(${confinedY}px)`;
      verticalLine.style.transform = `translateX(${confinedX}px)`;
    }
  
    confine.addEventListener("mousemove", (e) => {
      latestMouseMove = e;
      requestAnimationFrame(updateCustomCursor);
    });
  
    confine.addEventListener("mouseenter", () => {
      document.body.style.cursor = "none";
      customCursor.style.display = "block";
    });
  
    confine.addEventListener("mouseleave", () => {
      document.body.style.cursor = "crosshair";
      customCursor.style.display = "none";
    });
  </script>
  

</html>
